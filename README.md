# Preset для проектов <br>

Готовый шаблон для всех проектов с сборщиком GULP <br>
Необходимые пакеты на ПК: Node.js - https://nodejs.org/en/ <br>

Быстрый старт: <br>

1. Клонируем этот репозиторий
2. В терминале вводим команду npm i
3. После установки вводим команду gulp<br>

**ВНИМАНИЕ** 
Все файлы в html подключаются по пути от папки build.
Папка ***src*** — рабочая область.

Сборка нового проекта завершена.

**Существующие команды:**<br>
***gulp build***: собирает все файлы проекта в папку билд сжимает их. **Без оптимизации изображений!** <br>
***gulp clean***: удаляет папку build. <br>
***gulp webserver***: запускает вебсервер с livereload. <br>
***gulp buildSass***: билдит .css в папку нашей работы области в 1 файл в несжатом виде. <br>
***gulp buildCss***: билдит .css в сжатом виде в папку build/css и выполняет buildSass. <br>
***gulp buildJs***: сжимает и минифицирует .js файлы и билдит их в 1 файл в папку build/js. <br>
***gulp vendors***: перемещает содержимое папки vendors (папка для файлов плагинов) в исходном состоянии в папку build/vendors. <br>
***gulp img***: перемещает изображения в папку build/img. **Без оптимизации!**<br>
***gulp imgmin***: оптимизирует изображения и закидывает их в build/img. <br>
***gulp buildFonts***: перемещает шрифты в build/fonts. <br>
***gulp buildHtml***: выполняет импорты .html в .html, очищает кэш всех подключенных css и js-файлов, перемещает все собранные .html файлы в папку build. <br>
***gulp deploy***: заливает build на сервер (при наличии файла deploy.json). <br>
***gulp dest***: перемещает все остальные папки, содержащиеся в src в build. <br>

**Но используем только следующие две команды:**<br>
***gulp***: Используем при разработке. Выполняет все вышеперечисленные команды за исключением *gulp clean*, *gulp imgmin* и *gulp deploy*.<br>
***gulp prod***: Используем для перед началом посадки на CMS или для деплоя на сервер. Выполняет все вышеперечисленные команды, но в отличие от команды *gulp*, выполняет оптимизацию изображений и заливает файлы на сервер.<br>

**Чтобы собранный билд деплоился на сервер:**<br>
1. Убедиться, что сайт ещё **не посажен**.
2. **Убедиться, что сайт на Beget создан**.
3. Создать в **корневой** папке (рядом с gulpfile.js) файл **deploy.json**.
4. Написать в нём:
```
{
	"host": "АДРЕС_САЙТА_НА_BEGET",
	"user": "ИМЯ_ПОЛЬЗОВАТЕЛЯ_BEGET",
	"password": "ПАРОЛЬ_ОТ_BEGET"
}
```

5. Выполнить команду **gulp prod**.

**Чтобы использовать импорт html-компонентов:**
1. Создать в папке **components** ваш компонент (например, footer.html) с вёрсткой.
2. В файле, куда нужно вставить ваш компонент в нужном месте прописать **@import "ИМЯ_ФАЙЛА.html"**. Например @import "footer.html".# rubezh
