"use strict";function stopScroll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=parseInt(document.documentElement.clientWidth),n=parseInt(window.innerWidth),o=n-t;$(e).attr("style","overflow: hidden; padding-right: "+o+"px")}function freeScroll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";$(e).attr("style","")}var mobile=$(window).width()<768,contentFadeInOnReady=function(){$(".preloader").fadeOut(150,function(){$(".preloader").remove()})},bindModalListeners=function(e){e.forEach(function(e){var t=$(e.trigger),n=$(e.modal);t.on("click",function(){stopScroll("body"),n.addClass("active")}),n.on("click",function(e){$(e.target).hasClass("modal")&&($(this).removeClass("active"),freeScroll())}),n.find(".modal__close, [data-close]").on("click",function(){n.removeClass("active"),freeScroll()}),$(document).keydown(function(e){return 27===e.keyCode?($(".modal").removeClass("active"),freeScroll(),!1):void 0})})},owlGallery=function(e,t){void 0==t&&(t="");var n=$(e);n.each(function(e,n){$(n).addClass("owl-carousel owl-theme").owlCarousel(Object.assign(t,{smartSpeed:1e3,navText:['<svg width="11" height="21" viewBox="0 0 11 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.30057 1.12305L1.41016 10.553L9.30057 19.534" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>','<svg width="11" height="21" viewBox="0 0 11 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.69943 1.12305L9.58984 10.553L1.69943 19.534" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>']}))}).trigger("refresh.owl.carousel")},openSearch=function(e){var t=e.clone().prop("type","submit");e.parent().addClass("active"),e.replaceWith(t),t.hide(),t.fadeIn(200)},closeSearch=function(e){e.parent().removeClass("active"),e.siblings("button").prop("type","button")},switchActive=function(e,t,n){$(t).removeClass(n),$(e).addClass(n)},tabs=function(e,t,n){$(t).each(function(o,a){$(a).attr(n)===$(e).attr(n)&&($(t).removeClass("active").hide(),$(a).fadeIn())})},buttonScroll=function(e){var t=$(window).scrollTop()+100>$(document).height()-$(window).height();t?$(e).removeClass("visible"):$(e).addClass("visible")},tagTemplate=function(e){{var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";arguments.length>2&&void 0!==arguments[2]?arguments[2]:""}return"<button class='content__mobileTag' data-name='".concat(t,"'>").concat(e,"</button>")},addFilters=function(e,t){var n=$(e.target).siblings("label:not(:empty)").text(),o=$(e.target),a=o.prop("name");$(".content__mobileTag--default").remove(),"radio"===o.attr("type")&&($(t).find("[data-name=".concat(a,"]")).remove(),$(t).append(tagTemplate(n,a))),"checkbox"===o.attr("type")&&(o.prop("checked")?$(t).append(tagTemplate(n,a)):$(t).find("button").each(function(e,t){return $(t).text()===n?$(t).remove():0}))},filtersCount=function(){$(".content__searchCount").text($(".content__mobileTag").length?$(".content__mobileTag").length:"")},searchRequest=function(){$(".content__block--control.active").removeClass("active"),freeScroll(),$.ajax({})};$(".content__field--filter input").on("change",function(e){addFilters(e,".content__mobileTags"),filtersCount()}),$(".content__mobileSubmit").on("click",function(){return searchRequest()}),$("body").on("click",".content__mobileTag",function(e){$(e.currentTarget).remove(),$(".content__field input").each(function(t,n){$(e.currentTarget).text()===$(n).siblings("label:not(:empty)").text()&&$(n).prop("checked",!1),filtersCount()})});var mobileFilterHorizontal=function(e){var t=$(e).children();$(e).append(t.eq(0).clone().addClass("filter-current"),'<div class="mobile-select"><div class="mobile-select__box"></div></div>'),t.not(".filter-current").appendTo($(e).find(".mobile-select__box")),$(e).on("click",function(t){var n=$(t.target);switch(!0){case n.hasClass("filter-current"):$(e).find(".mobile-select").addClass("active"),stopScroll();break;case n.is("button:not(.filter-current)"):$(e).find(".filter-current").text(n.text());break;case n.hasClass("mobile-select"):$(e).find(".mobile-select").removeClass("active"),freeScroll()}})};$().ready(function(){if($(document).on("click",'.header__search-btn[type="button"]',function(){openSearch($(this))}),$(".profile__checkbox").on("change",function(){$(".profile__submit--subscribe").prop("disabled",!1)}),$(".header__search-closeBtn").on("click",function(){closeSearch($(this))}),owlGallery(".promo__sliderBox",{loop:!0,nav:!0,dots:!1,navContainer:".promo__sliderNav",responsive:{0:{items:3,margin:40}}}),owlGallery(".events__sliderBox",{loop:!0,nav:!0,dots:!1,navContainer:".events__sliderNav",responsive:{0:{items:3,margin:40}}}),owlGallery(".community__sliderBox",{items:1,margin:40,loop:!0,nav:!0,navContainer:".community__sliderNav",dotsContainer:".community__sliderDots"}),contentFadeInOnReady(),($(".detail img").length||$("[data-fancybox]").length)&&($(".detail img, img[data-fancybox]").each(function(e,t){$(t).wrap("<a class='detail__image' href='".concat($(t).attr("src"),"' data-fancybox><span>").concat($(t).attr("alt"),"</span></a>"))}),$("a[data-fancybox]").fancybox({buttons:["zoom","download","close"]})),$(".appears").length&&$(window).on("scroll",function(){buttonScroll(".appears")}),$(".project__load").on("change",function(){var e=this.value.split("\\");$(".project__file").text(e[e.length-1])}),bindModalListeners([{trigger:".detail__button--scroll",modal:".modal--load"},{trigger:".auth__submit--reg",modal:".modal--confirm"},{trigger:".content__searchFilters",modal:".content__block--control"},{trigger:".content__searchInput--mobile",modal:".content__search--mobile"}]),$(".profile__button").first().addClass("active"),$(".profile__form").first().addClass("active"),$(".profile__button").on("click",function(e){switchActive(e.target,".profile__button","active"),tabs(e.target,".profile__form","data-tab")}),$(".content__filter").on("click",function(e){return switchActive(e.target,".content__filter","active")}),mobile&&$(".content__filter").length&&mobileFilterHorizontal(".content__filters"),mobile&&$(".profile__options").length&&mobileFilterHorizontal(".profile__options"),$(".content__searchClear").on("click",function(e){$(e.target).siblings("input").val(""),location.search=""}),$(".content__mobileClear").on("click",function(){$(".content__mobileSearch").val(""),location.search=""}),$(".content__heading").on("click",function(e){$(e.target).toggleClass("open")}),$(".videos").length){var e=$(".videos__column:first");e.children(":nth-child(even)").each(function(){e.siblings(".videos__column").append(this)})}});